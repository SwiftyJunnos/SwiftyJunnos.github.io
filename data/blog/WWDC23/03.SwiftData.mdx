---
title: 'ğŸŠ WWDC23 - SwiftData'
date: '2023-06-11'
tags: ['Swift', 'WWDC23']
draft: false
summary: 'Swiftyí•œ ë¡œì»¬ DBì˜ ì‹œì‘'
---

# WWDC23 - SwiftData

ì˜¤ëŠ˜ì€ SwiftDataë¥¼ ì•Œì•„ë³¼ê±°ì—ìš”
Widgetì—ë‹¤ ì¨ë¨¹ì–´ì•¼ë˜ê±°ë“ ìš” ğŸ˜„

ì €ëŠ” ì¼ë‹¨ CoreDataë¥¼ ì¨ë³¸ ì ì´ ì—†ìŠµë‹ˆë‹¤.
ì•„ë§ˆ ì¡°ë§Œê°„ ì“¸ ê²ƒ ê°™ê¸°ëŠ” í•œë°.. ì¼ë‹¨ì€ ì—†ì–´ìš”..
ì™œ ì•ˆì¼ëƒë©´ìš”.. ìŠ¬ì© ë´ë„ íŒŒì¼ì´ ë„ˆë¬´ ì—¬ê¸°ì €ê¸° ë¶„ì‚°ë˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ë”ë¼êµ¬ìš”..
ì „ìš©ì˜ íŒŒì¼ í˜•ì‹ë„ ìˆê³  ë§ì´ì£ â€¦?
ê·¸ë˜ì„œ ëŒ€ì‹  Realmì„ ìì£¼ ì¼ì—ˆìŠµë‹ˆë‹¤.

ê·¸ëŸ°ë°.. SwiftDataê°€ ìƒˆë¡œ ë‚˜ì™”ì–´ìš”!
iOS 17ë¶€í„° ì§€ì›í•´ì„œ ì‹¤ë¬´ì—ì„œëŠ” 4~5ë…„ ë’¤ì—ë‚˜ ì“°ê²Œ ë  ê²ƒ ê°™ì§€ë§Œ ë‚˜ì˜¨ê²Œ ì–´ë”˜ê°€ìš” ğŸ˜‚
ì¼ë‹¨ Schemaë¥¼ ì •ì˜í•´ì£¼ëŠ” ê³¼ì •ë¶€í„° ë„ˆë¬´ ê°„ë‹¨í•©ë‹ˆë‹¤.

ì¶œë°œí•´ë³´ì£ !

## Using the Model Macro

SwiftDataì˜ **Schema** ëŠ” ì¼ë°˜ í´ë˜ìŠ¤ì— **`@Model` ë§¤í¬ë¡œ** ë¥¼ ë¶™ì—¬ì£¼ëŠ” ê²ƒìœ¼ë¡œ ëì…ë‹ˆë‹¤.

```swift
import SwiftData

@Model
class Trip {
  var name: String
  var destination: String
  var endDate: Date
  var startDate: Date

  var bucketList: [BucketListItem]? = []
  var livingAccommodation: LivingAccommodation?
}
```

ë„ˆë¬´ ì‰½ê³  ê°„ë‹¨í•˜ì£ ..?

`@Model` ë§¤í¬ë¡œëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ì˜ **Stored Property** ë“¤ì„ **Persisted Property** ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.

ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íƒ€ì…ë“¤ì€ ì´ë ‡ìŠµë‹ˆë‹¤.

- ê¸°ë³¸ì ì¸ Value Types (`Int`, `String`, â€¦)
- `struct`
- `enum`
- `Codable`
- [ANY VALUE TYPE]

ë‹¤ë¥¸ `@Model` í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒìœ¼ë¡œ ê´€ê³„ êµ¬ì¡°ë¥¼ í˜•ì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

- `[BucketListItem]?` ì™€ ê°™ì€..

> SwiftData í´ë˜ìŠ¤ì™€ ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ëŠ” ë™ì¼í•œê°€ìš”?

ê°œì¸ì ìœ¼ë¡œ ê°€ì¥ ê¶ê¸ˆí•œ ì ì´ì˜€ìŠµë‹ˆë‹¤.

```swift
public protocol Storable {
  associatedtype RealmObject: RealmSwift.Object
  associatedtype PropertyValue: PropertyValueType

  /// ë°ì´í„° ëª¨ë¸ì˜ ì‹ë³„ìë¡œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí¼í‹°
  var identifier: Int { get }

  init(realmObject: RealmObject)
  func realmObject() -> RealmObject
}
```

Realmì„ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ DBì—ì„œ ì‚¬ìš©í•˜ëŠ” Data êµ¬ì¡°ì²´ì™€ ì‹¤ì œë¡œ ì‚¬ìš©ë˜ëŠ” ë„ë©”ì¸ í˜•íƒœì˜ êµ¬ì¡°ì²´ëŠ” ë‹¤ë¥¸ êµ¬ì¡°ì²´ë¥¼ ì‚¬ìš©í•˜ê³¤ í–ˆê±°ë“ ìš”..
(ë³´í†µ ë©€í‹° ì“°ë ˆë”©ì˜ ê³¼ì •ì—ì„œ ë¬¸ì œë“¤ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.)

í•˜ì§€ë§Œ SwiftDataëŠ” ì €í¬ê°€ ì›ë˜ ì‚¬ìš©í•˜ë˜ ì½”ë“œì™€ ë³„ ì°¨ì´ê°€ ì—†ë„ë¡ ì• í”Œì´ ë…¸ë ¥í–ˆê¸° ë•Œë¬¸ì— **Model í´ë˜ìŠ¤ë¥¼ ì§ì ‘ì ìœ¼ë¡œ UI ë ˆì´ì–´ ë“±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤** ê³  í•©ë‹ˆë‹¤.

---

`@Attribute` ì™€ `@Relationship` ìœ¼ë¡œ í”„ë¡œí¼í‹°ì— ì¶”ê°€ì ì¸ ì œì–´ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### @Attribute

```swift
@Attribute(.unique) var name: String
```

`@Attribute(.unique)` ë¡œ **PK**ë¥¼ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. PKë¡œ ì„¤ì •ëœ í”„ë¡œí¼í‹°ì™€ ê°™ì€ ê°’ì„ ê°€ì§„ ëª¨ë¸ì´ Createì— ëŒ€ì‘ë˜ëŠ” `insert()`ë¡œ ì¸í•´ ì¶”ê°€ë  ë•Œ Updateì— ëŒ€ì‘ë˜ëŠ” `upsert()`ë¡œ ì „í™˜ë˜ëŠ” íš¨ê³¼ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

```swift
@Attribute(originalName: "start_date") var startDate: Date
```

`@Attribute(originalName)`ìœ¼ë¡œëŠ” Migrationì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. í”„ë¡œí¼í‹°ì˜ ì´ë¦„ì€ ë°”ê¾¸ê³  ì‹¶ì§€ë§Œ ë°ì´í„°ëŠ” ê·¸ëŒ€ë¡œ ë‚¨ê²¨ë‘ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ ì™¸ì—ë„

- ì™¸ë¶€ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì‚¬ìš©
- Transformable
- Spotlight
- Hash ìˆ˜ì •

ë“±ì˜ ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤ê³  í•˜ë„¤ìš”.

### @Relationship

ê° ëª¨ë¸ê°„ Relationshipì´ ì„¤ì •ë˜ì–´ ìˆì„ ë•Œ, ì‚­ì œ ì •ì±…ì˜ ê¸°ë³¸ê°’ì€ **Nullify** ì…ë‹ˆë‹¤.

ì˜ˆì‹œë¡œ ì‚´í´ë³´ë©´ `Trip`ì´ ì‚­ì œëì„ë•Œ, `BucketListItem`ê³¼ `LivingAccommodation`ì˜ Inverse Relationshipìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆë˜ `trip`ì´ë¼ëŠ” í”„ë¡œí¼í‹°ê°€ **NULL**ì´ ë˜ëŠ” ê²ƒì´ì£ .

í•˜ì§€ë§Œ `.cascade` ì •ì±…ìœ¼ë¡œ Nullify ëŒ€ì‹  **í•¨ê»˜ ì‚­ì œ** ë˜ë„ë¡ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```swift
@Relationship(.cascade) var bucketList: [BucketListItem]? = []
```

- originalName
- toMany Relationshipì¼ ë•Œì˜ ê°œìˆ˜ ì œí•œ
- Hash ìˆ˜ì •

### @Transient

```swift
@Transient var tripViews: Int = 0
```

`@Transient` ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ í”„ë¡œí¼í‹°ê°€ SwiftDataë¡œ ì“°ì´ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ëŒ€ì‹  í•´ë‹¹ í”„ë¡œí¼í‹°ëŠ” **ê¸°ë³¸ê°’** ì„ ê¼­ ê°€ì ¸ì•¼ë§Œ í•©ë‹ˆë‹¤.

## Evolving Schemas

ì•±ì„ ê°œë°œí•˜ê±°ë‚˜ ìƒìš©í™”ë¥¼ í•œ ì´í›„ì—ë„ DBì˜ êµ¬ì¡°ëŠ” ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë•Œë¬¸ì— Migrationì€ í•„ìˆ˜ì ì¸ ìš”ê±´ì´ì£ .

SwiftDataë„ `VersionedSchema`ì™€ `SchemaMigrationPlan`ì„ í†µí•´ ì´ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

```swift
enum SampleTripSchemaV1: VersionedSchema {
  static var models: [any PersistentModel.Type] {
    [Trip.self, BucketListItem.self, LivingAccommodation.self]
  }

  @Model
  final class Trip {
    var name: String
    var destination: String
    var start_date: Date
    var end_date: Date

    var bucketList: [BucketListItem]? = []
    var livingAccommodation: LivingAccommodation?
}
```

```swift
enum SampleTripSchemaV2: VersionedSchema {
  static var models: [any PersistentModel.Type] {
    [Trip.self, BucketListItem.self, LivingAccommodation.self]
  }

  @Model
  final class Trip {
    @Attribute(.unique) var name: String
    var destination: String
    @Attribute(originalName: "srart_date") var startDate: Date
    @Attribute(originalName: "end_date") var endDate: Date

    var bucketList: [BucketListItem]? = []
    var livingAccommodation: LivingAccommodation?
}
```

`SchemaMigrationPlan`ìœ¼ë¡œëŠ” ì´ë ‡ê²Œ ë°”ê¾¼ ë°ì´í„°ë“¤ì„ ì–´ë–¤ ìˆœì„œëŒ€ë¡œ ë³€ê²½í• ì§€ ë“±ì˜ ì„¸ë¶€ì ì¸ ì‚¬í•­ë“¤ì„ ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
enum SampleTripsMigrationPlan: SchemaMigrationPlan {
  static var schemas: [any VersionedSchema.Type) {
    [SampleTripsSchemaV1.self, SampletripsSchemaV2.self, SampleTripSchemaV3.self]

  static var stages: [MigrationStage] {
    [migrateV1toV2]
  }

  static let migrateV1toV2 = MigrationStage.custom(
    fromVersion: SampleTripSchemaV1.self
    toVersion: SampleTripSchema2.self    ,
    willMigrate: { context in
      let trips = try? context.fetch(FetchDescriptor<SampleTripsSchemaV1.Trip>())
      try? context.save()  
    }, didMigrate: nil
  )
}
```

# Working with your Data

## Model Container

**Schema** ëŠ” ë‹¨ìˆœíˆ â€œì–´ë–¤ í˜•íƒœë¡œ ì €ì¥ë˜ëŠ” ì§€ì— ëŒ€í•œ ê°€ì´ë“œë¼ì¸â€ ì •ë„ì˜ ì—­í• ì´ê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë¬´ì–¸ê°€ë„ ìˆì–´ì•¼ê² ì£ ?

ê·¸ê²ƒì´ ë°”ë¡œ **Model Container** ì…ë‹ˆë‹¤.

![](https://i.imgur.com/w4vklF0.png)

Model ContainerëŠ” Schemaë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ë ‡ê²Œ ì¸ìŠ¤í„´ìŠ¤í™” ëœ ê° ë°ì´í„°ë“¤(Persistence)ì€ **Model Context** ë¥¼ í†µí•´ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ì£ .

ê·¸ëŸ¬ë‹ˆê¹Œ **Model Container** ëŠ” **Schemaì™€ Persistence ì‚¬ì´ì˜ ì—°ê²°ëª©** ì—­í• ì„ í•˜ëŠ”ê²ë‹ˆë‹¤.

Model ContainerëŠ” ì´ëŸ° ì‘ì—…ë“¤ì„ í•©ë‹ˆë‹¤.

- ë²„ì „ ê´€ë¦¬
- Migration
- Graph ë¶„ë¦¬

Container ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ ê°„ë‹¨í•©ë‹ˆë‹¤.

```swift
import SwiftData

let container = try ModelContainer(for: [Trip.self,
                                         BucketListItem.self,
                                         LiveAccommodation.self])  
```

ê·¸ë¦¬ê³  ë” ë³µì¡í•œ í˜•íƒœì˜ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ ì¶”ê°€ì ì¸ `Configuration`ë„ ì œê³µí•©ë‹ˆë‹¤.

```swift
import SwiftData

let container = try ModelContainer(for: [Trip.self, LivingAccommodation.self],
                                   configuration: ModelConfiguration(url: URL("path")))         
```

## Model Configuration

```swift
let fullSchema = Schema([Trip.self,
                         BucketListItem.self,
                         LivingAccommodations.self,
                         Person.self,
                         Address.self])

let trips = ModelConfiguration(schema: Schema([Trip.self,
                                               BucketListItem.self,
                                               LivingAccommodations.self]),
                               url: URL(filePath: "/path/to/trip.store"),
                               cloudKitContainerIdentifier: "com.example.trips")

let people = ModelConfiguration(schema: Schema([Person.self,
                                                Address.self]),
                                url: URL(filePath: "/path/to/people.store"),
                                cloudKitContainerIdentifier: "com.example.people")

let container = try ModelContainer(for: fullSchema, trips, people)    
```

**ModelConfiguration** ì„ í†µí•´ì„œëŠ”

- Schemaì˜ Persistenceë¥¼ ì„¤ëª…í•˜ê±°ë‚˜ (ë©”ëª¨ë¦¬ í˜¹ì€ ë””ìŠ¤í¬)
- ì €ì¥ë˜ëŠ” ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ê±°ë‚˜
- Read-Only ëª¨ë“œë„ ì§€ì›í•˜ê³ 
- CloudKitì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° identifierë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ìœ„ ì˜ˆì‹œì˜ ê²½ìš° `trips`ì™€ `people`ì˜ ê·¸ë˜í”„ë¥¼ ì €ì¥ë˜ëŠ” ìœ„ì¹˜ì™€ CloudKitì˜ identifierë¥¼ ë¶„ë¦¬í•´ì„œ ë‹¤ë¥´ê²Œ ì„¤ì •í•´ì£¼ê³  ìˆë„¤ìš”.

ì´í›„, **ModelContainer** ë¥¼ ìƒì„±í•  ë–„ ë§Œë“¤ì–´ë‘” Schemaì™€ Graphë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ ìƒì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Model Context

**Model Context** ëŠ” Modelì— ìƒê¸°ëŠ” ë³€í™”ë¥¼ ê´€ì°°í•˜ë‹¤ê°€ íŠ¸ë¦¬ê±°ë˜ëŠ” í–‰ë™ë“¤ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**1. ì—…ë°ì´íŠ¸ë¥¼ ì¶”ì í•˜ê³ **, **2. ë°ì´í„°ë¥¼ fetchí•˜ê³ **, **3. ë³€ê²½ì ì„ ì €ì¥í•˜ê³ **, **4. ë³€ê²½ì ì„ ì·¨ì†Œ**í•˜ëŠ” ë“±ì˜ ì‘ì—…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```swift
import SwiftData

let context = container.mainContext
let context = ModelContext(container)  
```

ì´ê²ƒì´ ì–´ë–»ê²Œ ê°€ëŠ¥í•˜ëƒ!? í•˜ë©´, ModelContextëŠ” ì¼ì¢…ì˜ **Snapshot** ì²˜ëŸ¼ ì‘ë™í•©ë‹ˆë‹¤.

ë³€í™”ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ Modelì˜ Snapshotì„ ì°ì–´ ê·¸ ë•Œì˜ ìƒíƒœë¥¼ ì €ì¥í•´ë‘ëŠ” ê²ƒì´ì£ .

ë•ë¶„ì— ì‚­ì œ, ìˆ˜ì •ê³¼ ê°™ì€ ë³€í™”ê°€ ì´ë£¨ì–´ì ¸ë„ **ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ì‚­ì œëê³ , ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´** ë¥¼ ë‹´ê³  ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì£¼ì˜í•  ì ì€ ModelContextì˜ ë³€ê²½ì ë“¤ì€ `context.save()` ë¥¼ í†µí•´ ì €ì¥í•˜ì§€ ì•Šìœ¼ë©´ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### Undo with ModelContext

**Model Container** ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `undoManager`ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì„¸ ì†ê°€ë½ìœ¼ë¡œ ìŠ¤ì™€ì´í”„, í”ë“¤ì–´ì„œ ì…ë ¥ ì·¨ì†Œ ë“± ì‹œìŠ¤í…œì´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì œìŠ¤ì²˜ë“¤ì„ ìë™ìœ¼ë¡œ ì§€ì›í•œë‹¤ëŠ” ê·¸ëŸ° ì–˜ê¸°ì…ë‹ˆë‹¤..

### ModelContext AutoSave

```swift
.modelContainer(for: Trip.self, isAutosaveEnabled: false)
```

Undoë¿ë§Œ ì•„ë‹ˆë¼ ìë™ ì €ì¥ë„ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì•±ì´ ë°±ê·¸ë¼ìš´ë“œ ìƒíƒœë¡œ ê°€ê±°ë‚˜ ì¢…ë£Œë  ë•Œ, í˜¹ì€ ì•±ì´ ì‚¬ìš©ë¨ì— ë”°ë¼ ìë™ì ìœ¼ë¡œ Contextë¥¼ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

Fetchí•œ ê°’ë“¤ì€ ê¸°ì¡´ì— ìˆë˜ `SortDescriptor`ì™€ ìƒˆë¡œìš´ `Predicate`, `FetchDescriptor`ë¥¼ ì‚¬ìš©í•´ ì •ë ¬í•˜ê±°ë‚˜ í•„í„°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Predicate

```swift
let tripPredicate = #Predicate<Trip> { $0.destination == "New York" }
```

```swift
let tripPredicate = #Predicate<Trip> {
  $0.destination == "New York" &&
  $0.name.contains("birthday")
}
```

`#Predicate` ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•´ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©° ê¸°ì¡´ì˜ `filter`ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ê¸°ì¡´ì˜ `filter`ëŠ” `.filter { }.filter { }`ì™€ ê°™ì´ ì¤„ì¤„ì´ ì¡°ê±´ì„ ì¶”ê°€í•´ì¤˜ì•¼ í–ˆë˜ ë°˜ë©´, **í•˜ë‚˜ì˜ í´ë¡œì € ë‚´ë¶€ì—ì„œ ëª¨ë“  ì¡°ê±´ë“¤ì„ ê²€ì‚¬** í•  ìˆ˜ ìˆëŠ” ì ì´ íŠ¹ì§•ì…ë‹ˆë‹¤.

### Fetch Descriptor

```swift
let descriptor = FetchDescriptor<Trip>(predicate: tripPredicate)

let trips = try context.fetch(descriptor)
```

`FetchDescriptor`ëŠ” ìœ„ì—ì„œ ì‚´í´ë³¸ `Predicate`ë¥¼ `context`ì— ì ìš©ì‹œì¼œì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

```swift
let descriptor = FetchDescriptor<Trip>(
  sortBy: SortDescriptor(\Trip.name),
  predicate: tripPredicate
)      

let trips = try context.fetch(descriptor)
```

ì´ë ‡ê²Œ `SortDescriptor`ì™€ ì¡°í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```swift
context.enumerate(descriptor
                  batchSize: 10000
                  allowEscapingMutations: true) { trip in
  // operate on trip
}
```

ì´ì™¸ì—ë„ enumerateë¼ëŠ” í•¨ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

batchSizeëŠ” í•œ ë²ˆì— 5000ê°œì˜ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ì²˜ë¦¬í•˜ë„ë¡ ì œí•œë˜ì–´ ìˆì§€ë§Œ, ì´ë¥¼ 10000ê°œë¡œ ëŠ˜ë¦¬ë©´ ë©”ëª¨ë¦¬ì˜ í• ë‹¹ëŸ‰ì„ ëŠ˜ë¦¬ê³ , I/O ì‹œê°„ì€ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë©”ëª¨ë¦¬ ì—°ì‚°ì„ ë””ìŠ¤í¬ ì²˜ë¦¬ë³´ë‹¤ ìš°ì„ ì‹œ)

ë°˜ë©´ ì‚¬ì§„, ì˜í™”ì™€ ê°™ì€ ë°ì´í„°ë“¤ì€ batchSizeë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ë©´ì„œ I/O ì²˜ë¦¬ëŸ‰ì„ ëŠ˜ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ì£ . (ë””ìŠ¤í¬ ì²˜ë¦¬ë¥¼ ë©”ëª¨ë¦¬ ì—°ì‚°ë³´ë‹¤ ìš°ì„ ì‹œ)

# Modifying your Data

SwiftDataëŠ” CRUD ì‘ì—…ë„ ë„ˆë¬´ ê°„ë‹¨í•©ë‹ˆë‹¤!

```swift
var myTrip = Trip(name: "Birthday Trip", destination: "New York")

// Create
context.insert(myTrip)

// Delete
context.delete(myTrip)

try context.save()
```

> References

[WWDC23 - Meet SwiftData](https://developer.apple.com/wwdc23/10187)

[WWDC23 - Model your Schema with SwiftData](https://developer.apple.com/wwdc23/10195)

[WWDC23 - Dive deeper into SwiftData](https://developer.apple.com/wwdc23/10196)
