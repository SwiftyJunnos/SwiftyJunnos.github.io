---
title: ğŸ Swift - RxSwiftì—ì„œ Combineìœ¼ë¡œ ì „í™˜í•˜ê¸°
date: 2023-10-22
tags:
  - Swift
draft: false
summary: Rxì—ì„œ Combineìœ¼ë¡œ ì „í™˜í•˜ëŠ” ë²•, ê·¸ë¦¬ê³  ì£¼ì˜í•  ì 
---

<TOCInline toc={props.toc} indentDepth={2} />

# RxSwiftì—ì„œ Combineìœ¼ë¡œ ì „í™˜í•˜ê¸°

ì˜¤ëŠ˜ì€ RxSwiftì—ì„œ Combineìœ¼ë¡œ ì „í™˜í•˜ëŠ” ê³¼ì •ê³¼, ì£¼ì˜í•  ì ë“¤ì„ ì •ë¦¬í•´ë³´ë©´ì„œ í•™ìŠµí• ê²ë‹ˆë‹¤!

ì‚¬ì‹¤ ì €ì—ê²ŒëŠ” ì „í™˜ì´ë¼ê¸°ë³´ë‹¤ëŠ”, ë‘˜ ë‹¤ ì•Œì•„ë‘ì! ë¼ëŠ” ì‹ì´ê¸´ í•˜ì§€ë§Œìš”.

## Observable â¡ï¸ Publisher

ê°€ì¥ ë¨¼ì € ëˆˆì— ë„ëŠ” ì ì€ `Observable`ì— ëŒ€ì‘ë˜ëŠ” `Publisher`ì¼ê²ë‹ˆë‹¤.

```swift
class Observable<Element>: ObservableType {
	func subscribe<Observer: ObserverType>(_ observer: Observer)
		-> Disposable where Observer.Element == Element {
		// 
	}
}
```

```swift
protocol Publisher<Output, Failure> {
	associatedType Output
	associatedType Failure: Error
	
	func receive<S>(subscriber: S)
		where S: Subscriber,
		Self.Failure == S.Failure,
		Self.Output == S.Input
}
```

ê°€ì¥ í° ì°¨ì´ì ì€ `Observable`ì€ í´ë˜ìŠ¤ êµ¬í˜„ì²´ì´ê³ , `Publisher`ëŠ” í”„ë¡œí† ì½œì´ë¼ëŠ” ì ì…ë‹ˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— Rxì—ì„œëŠ” ì´ Observableì„ í•œ ë²ˆ ë˜í•‘í•´ì„œ ì‚¬ìš©í•˜ê±°ë‚˜, ìƒì†ì„ í•˜ê³  `subscribe` ë©”ì„œë“œë¥¼ overrideí•©ë‹ˆë‹¤.
Combineì—ì„œëŠ” Publisher í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  `receive` ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì¤Œìœ¼ë¡œì¨ ì»¤ìŠ¤í…€  Publisherë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì£ .
> ë³´í†µ ì• í”Œì´ ì œê³µí•˜ëŠ” `Publisher` êµ¬í˜„ì²´ë“¤ì€ êµ¬ì¡°ì²´ë¡œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì‹¤ì œë¡œ Rxì˜ `Maybe`ë‚˜ `Single` ê°™ì€ êµ¬í˜„ì²´ë“¤ì€ Observableì„ ë˜í•‘í•œ í˜•íƒœë¡œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<sup>[1](#PrimitiveSequence)</sup>

ë˜í•œ PublisherëŠ” `Failure` íƒ€ì…ì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì—ëŸ¬ê°€ ë°œìƒí•  ê²½ìš°ë¥¼ í•­ìƒ ì—¼ë‘ì— ë‘ê³  ë§Œë“¤ì–´ì¡Œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

ë§Œì•½ Failí•˜ì§€ ì•ŠëŠ” Publisherë¥¼ ë§Œë“¤ ë•ŒëŠ”, `Never`ë¥¼ Failureë¡œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

## Observer â¡ï¸ Subscriber

ì´ë²ˆì—ëŠ” ë°˜ëŒ€ì˜ ìœ„ì¹˜ì— ìˆëŠ” **"êµ¬ë…ì"** ì…ë‹ˆë‹¤.

RxSwiftëŠ” `Event`ë¼ëŠ” enumìœ¼ë¡œ êµ¬ë…í•œ Observableì˜ ê²°ê³¼ë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤.<sup>[2](#Event)</sup>

```swift
@frozen
enum Event<Element> {
    /// Next element is produced.
    case next(Element)
    /// Sequence terminated with an error.
    case error(Swift.Error)
    /// Sequence completed successfully.
    case completed
}
```

ë°˜ëŒ€ë¡œ Combineì€ ì´ë¥¼ enumìœ¼ë¡œ êµ¬ë¶„í•˜ì§€ëŠ” ì•Šê³ , ë³„ê°œì˜ ë©”ì„œë“œë“¤ì„ ì œê³µí•´ì„œ ê°ê°ì— ëŒ€í•œ í•¸ë“¤ë§ì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

```swift
protocol Subscriber<Input, Failure>: CustomCombineIdentifierConvertible {
	associatedType Input
	associatedType Failure: Error

	func receive(subscription: Subscription)
	func receive(_ input: Self.Input) -> Subscriber.Demand
	func receive(completion: Subscribers.Completion<Self.Failure>)
}

@frozen
enum Completion<Failure> where Failure: Error {
	case finished
	case failure(Failure)
}
```

ê°€ì¥ ì°¨ì´ì ì´ë¼ê³  í•œë‹¤ë©´, Combineì˜ SubscriberëŠ” Publisherì˜ `Failure` íƒ€ì…ê³¼ ë§¤ì¹­í•´ì„œ ì‚¬ìš©í•´ì•¼í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

RxSwiftê°€ ë¶ˆí™•ì‹¤í•œ íƒ€ì…ì˜ `Error`ë¥¼ caseë¡œ ì œê³µí•´ì¤€ë‹¤ë©´, Combineì€ ì •í™•í•œ íƒ€ì…ì˜ `Failure: Error`ë¥¼ `receive(completion:)` ë©”ì„œë“œë¥¼ í†µí•´ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.

## Subscription

`Subscription`ì€ Publisherì™€ Subscriberë¥¼ ì—°ê²°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.



<a name="PrimitiveSequence">1</a>: [RxSwift - PrimitiveSequence.swift](https://github.com/ReactiveX/RxSwift/blob/473b7a7180df6ff58925a5bd1ed039bccdc35250/RxSwift/Traits/PrimitiveSequence/PrimitiveSequence.swift)
<a name="Event">2</a>: [RxSwift - Event](https://github.com/ReactiveX/RxSwift/blob/473b7a7180df6ff58925a5bd1ed039bccdc35250/RxSwift/Event.swift)
