---
title: 'ğŸ Swift - RxFlow'
date: '2023-01-26'
tags: ['Swift']
draft: false
summary: 'Coordinator íŒ¨í„´ì˜ Rxí™”'
---

# RxFlow
Favor í”„ë¡œì íŠ¸ëŠ” ReactorKitì„ ì‚¬ìš©í•˜ì—¬ MVVM-CíŒ¨í„´ì— RxSwiftë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì €í¬ í”„ë¡œì íŠ¸ì—ì„œ Reactiveí•˜ì§€ ëª»í•œ ë¶€ë¶„ì´ í•˜ë‚˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ë°”ë¡œ Coordinator ë¶€ë¶„ì¸ë°ìš”..

í•˜ìœ„ Coordinatorë¥¼ ì¢…ë£Œí•˜ê¸° ìœ„í•´ì„œëŠ” ìƒìœ„ Coordinatorì— ì ‘ê·¼í•´ì•¼ë§Œ í•˜ëŠ” í˜„ìƒì„ ë°œê²¬í—€ìŠµë‹ˆë‹¤.

ë°”ë¡œ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ìš”..

```swift
self.coordinator.parentCoordinator?.finish(childCoordinator: self.coordinator)
```

í•œëˆˆì— ë´ë„ êµ‰ì¥íˆ ê¹”ë”í•´ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. ğŸ˜µ

**í˜„ì¬ ì½”ë””ë„¤ì´í„° â¡ï¸ ìƒìœ„ ì½”ë””ë„¤ì´í„°**ì— ì ‘ê·¼ì„ í•œ ë’¤ ë‹¤ì‹œ **í˜„ì¬ ì½”ë””ë„¤ì´í„°ë¥¼ ì¢…ë£Œí•˜ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œ**í•˜ëŠ” ê²ƒì€ êµ‰ì¥íˆ ì¢‹ì§€ ì•Šì€ ì ‘ê·¼ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ë•Œë¬¸ì— ë‘ ê°€ì§€ ë°©ë²•ì„ ê³ ì•ˆí•´ë³´ì•˜ëŠ”ë°ìš”.

`delegate` íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ í•˜ìœ„ ì½”ë””ë„¤ì´í„°ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ìƒìœ„ ì½”ë””ë„¤ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë°©ì§€

```swift
extension AppCoordinator: CoordinatorFinishDelegate {
  func coordinatorDidFinish(childCoordinator: some Coordinator) {
    self.finish(childCoordinator: childCoordinator)
    
    self.navigationController.viewControllers.removeAll()
    
    switch childCoordinator.self {
    case is AuthCoordinator:
      self.showTabBarFlow()
    case is TabBarCoordinator:
      self.showAuthFlow()
    default:
      break
    }
  }
}
```

`override`ë¥¼ í™œìš©í•˜ì—¬ ì¶”ê°€ ë¡œì§ êµ¬í˜„ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼

```swift
override func finish(childCoordinator: some Coordinator) {
  super.finish(childCoordinator: childCoordinator)
  
  self.navigationController.viewControllers.removeAll()
  
  switch childCoordinator.self {
  case is AuthCoordinator:
    self.showTabBarFlow()
  case is TabBarCoordinator:
    self.showAuthFlow()
  default:
    break
  }
}
```

ì‚¬ì‹¤ ì™„ë²½í•˜ê²Œ ë™ì¼í•œ ë¡œì§ì´ì§€ë§Œ ì ‘ê·¼ ë°©ë²•ì˜ ì°¨ì´ë¥¼ ê°–ê³  ìˆê³ , ì–´ë–¤ ë°©ì‹ì´ ë” ë‚˜ì„ê¹Œë¥¼ ê³ ë¯¼í•˜ë˜ ì¤‘ì—

`delegate` íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ â€œìœ„ì„â€í•œë‹¤ëŠ” ë¡œì§ ì¸¡ë©´ì—ì„œëŠ” ì§ê´€ì ì´ì§€ë§Œ ì½”ë“œ ê°€ì‹œì„± ì¸¡ë©´ì—ì„œëŠ” ë³µì¡í•˜ë‹¤ëŠ” ì˜ê²¬ìœ¼ë¡œ ê·€ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.

`delegate` íŒ¨í„´ì„ ì–´ë–»ê²Œ í•˜ë©´ ë” ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œë¥¼ ê³ ë¯¼í•˜ë˜ ì¤‘ì— rxë¥¼ í™œìš©í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì•„ë³´ê²Œ ë˜ì—ˆê³ , RxFlowë¥¼ ë°œê²¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤!

# â“ RxFlowë€
ê³µì‹ GitHub ì„¤ëª…ì€ `RxFlow`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.

> RxFlowëŠ” `Reactive Flow`ë¥¼ í™œìš©í•˜ì—¬ Coordinator íŒ¨í„´ì„ êµ¬í˜„í•œ iOS ì•±ì„ ìœ„í•œ navigation ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

ìš”ì•½í•˜ë©´ â€œì½”ë””ë„¤ì´í„° íŒ¨í„´ì— `rx`ë¥¼ ì ‘ëª©ì‹œì¼°ë‹¤.â€ ì •ë„ê² ë„¤ìš”.

`RxFlow`ëŠ” Coordinator íŒ¨í„´ì„ Reactiveí™” ì‹œí‚¨ ê²ƒì´ê¸° ë•Œë¬¸ì— Coordinator íŒ¨í„´ì˜ ì¥ë‹¨ì ì„ ë¨¼ì € ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.

## ğŸ˜Š ì¥ì 
- `UIViewController`ì—ì„œ ë„¤ë¹„ê²Œì´ì…˜ ì½”ë“œë¥¼ ë¶„ë¦¬í•œë‹¤.
- `UIViewController`ë¥¼ ë‹¤ë¥¸ í™”ë©´ ì „í™˜ ìƒí™©ì—ì„œë„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ì˜ì¡´ì„± ì£¼ì…ì„ ì‰½ê²Œ ì´ë£° ìˆ˜ ìˆë‹¤.

## ğŸ˜­ ë‹¨ì 
- ì½”ë””ë„¤ì´í„° íŒ¨í„´ì˜ ê¸°ë³¸ì ì¸ ë¡œì§ë“¤ì€ ì•±ì„ bootstrapí•  ë•Œë§ˆë‹¤ ì‘ì„±í•´ì£¼ì–´ì•¼ í•œë‹¤.
- ì½”ë””ë„¤ì´í„° íŒ¨í„´ ìŠ¤íƒì˜ êµë¥˜ ê³¼ì •ì—ì„œ boilerplate ì½”ë“œê°€ ë§ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ RxFlowëŠ” ì–´ë–¤ ë°œì „ì„ ì´ë£¨ì—ˆë‹¤ê³  ì£¼ì¥í•˜ê³  ìˆì„ê¹Œìš”?

- `Flows`ë¥¼ í™œìš©í•˜ì—¬ ë„¤ë¹„ê²Œì´ì…˜ì„ ì¢€ ë” ëª…í™•í•˜ê²Œ ë°œì „ì‹œì¼°ë‹¤.
- `FlowCoordinator`ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ì—¬ `Flows` ì‚¬ì´ì˜ ë„¤ë¹„ê²Œì´ì…˜ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤.
- ë„¤ë¹„ê²Œì´ì…˜ ì•¡ì…˜ë“¤ì´ Reactiveí•˜ê²Œ ì´ë£¨ì–´ì§„ë‹¤.

ê·¸ë¦¬ê³  ì•„ë˜ëŠ” RxFlowë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ì•Œì•„ë‘ì–´ì•¼ í•  6ê°€ì§€ ìš©ì–´ë“¤ì…ë‹ˆë‹¤.

- `Flow`: ê°ê°ì˜ `Flow`ëŠ” ì•±ì˜ **ë„¤ë¹„ê²Œì´ì…˜ ê³µê°„**ë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ ê³µê°„ì€ ë„¤ë¹„ê²Œì´ì…˜ **ì•¡ì…˜ë“¤ì´ ì„ ì–¸ë˜ëŠ” ê³³**ì…ë‹ˆë‹¤.
- `Step`: `Step`ì€ ë„¤ë¹„ê²Œì´ì…˜ê¹Œì§€ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” **stateë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•œ ë°©ë²•**ì…ë‹ˆë‹¤. **Flowì™€ Stepì„ ì¡°í•©**í•˜ë©´ ê°€ëŠ¥í•œ **ëª¨ë“  ë„¤ë¹„ê²Œì´ì…˜ ì•¡ì…˜ì„ ì„¤ëª…**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `Step`ì€ (idë‚˜ URL ê°™ì€) ë‚´ë¶€ì ì¸ ê°’ë“¤ì„ ì§€ë‹ˆê³  ìˆì„ ìˆ˜ë„ ìˆì–´ ì´ ê°’ë“¤ì„ Flowì— ì„ ì–¸ë˜ì–´ ìˆëŠ” í™”ë©´ë“¤ì— ì „ë‹¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
- `Stepper`: **Flow ì•ˆì—ì„œ Stepì„ ë°œìƒ**ì‹œí‚¬ ìˆ˜ ìˆë‹¤ë©´, ê·¸ ì–´ë–¤ ê²ƒë„ `Stepper`ë¼ê³  ë¶ˆë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `Presentable`: **Present ë  ìˆ˜ ìˆëŠ” ì–´ë–¤ ê²ƒ**ì„ ì¶”ìƒì ìœ¼ë¡œ í‘œí˜„í•œ ê°œë…ì…ë‹ˆë‹¤. (ê¸°ë³¸ì ìœ¼ë¡œ `UIViewController`ì™€ `Flow`ê°€ `Presentable`í•œ ê°ì²´ì…ë‹ˆë‹¤.)
- `FlowContributor`: ì–´ë–¤ ê²ƒë“¤ì´ `Flow` ì•ˆì—ì„œ ìƒˆë¡œìš´ `Step`ì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆì„ì§€ë¥¼ `FlowCoordinator`ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤.
- `FlowCoordinator`: ê°œë°œìê°€ ì ì ˆí•œ `Flow`ì™€ `Step`ì„ ì¡°í•©í•˜ì—¬ ê°€ëŠ¥í•œ ë„¤ë¹„ê²Œì´ì…˜ì„ ì •ì˜í•˜ë©´, `FlowCoordinator`ëŠ” ì•±ì˜ ëª¨ë“  ë„¤ë¹„ê²Œì´ì…˜ì„ ì œì–´í•˜ê¸° ìœ„í•´ ì´ ì¡°í•©ë“¤ì„ ì„ìŠµë‹ˆë‹¤. `FlowCoordinator`ëŠ” RxFlowì— ì˜í•´ ì œê³µë˜ì–´ ê°œë°œìê°€ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

## ì‚¬ìš© ì˜ˆì‹œ

![](https://raw.githubusercontent.com/RxSwiftCommunity/RxFlow/develop/Resources/RxFlow.gif)

ê³µì‹ ë¬¸ì„œëŠ” ìœ„ì™€ ê°™ì€ ì˜í™” ì •ë³´ì•±ì„ ì˜ˆì‹œë¡œ ë“¤ì–´ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.

í•˜ë‚˜ì”© ì‚´í´ë³¼ê²Œìš”..! ğŸ˜‰

## Step ì •ì˜

ìš°ì„  `Step`ì„ ì •ì˜í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

í•œ ê°€ì§€ ì£¼ì˜í•  ì ì€ `Step`ì€ ì•±ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìš”ì†Œì´ê¸° ë•Œë¬¸ì— ì–´ë””ë¡œ navigationì´ ì´ë£¨ì–´ì§ˆ ì§€ì™€ ê°™ì€ **íŠ¹ì •ì ì¸ ìš”ì†Œë“¤ì€ Stepì´ ì•„ë‹ˆë¼ Flow**ì—ì„œ ì •í•´ì¤˜ì•¼ í•œë‹¤ê³  í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `showMovieDetail(withID: Int)`ëŠ” ì˜í™”ë¥¼ ì„ íƒí–ˆì„ ë•Œ ì˜í™”ì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ë§¤ìš° íŠ¹ì •ëœ ì¼€ì´ìŠ¤ì´ê¸° ë•Œë¬¸ì— ë°”ëŒì§í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ëŒ€ì‹  `movieIsPicked(withID: Int)`ì™€ ê°™ì´ ì¡°ê¸ˆ ë” **ë…ë¦½ì ì¸ ì¼€ì´ìŠ¤**ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì´ëŸ° ì‹ìœ¼ë¡œ ì •ì˜í•´ì£¼ë©´ ì˜í™”ê°€ ì„ íƒëì„ ë•Œ ì˜í™”ì˜ ì„¸ë¶€ ì •ë³´ í™”ë©´ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒ ë§ê³ ë„ ë‹¤ë¥¸ ì¡°ê±´ì—ì„œ ë‹¤ë¥¸ ì•¡ì…˜ì„ ì¶”ê°€í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì•„ë˜ì™€ ê°™ì´ `enum` íƒ€ì…ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

```swift
enum DemoStep: Step {
	// Login
	case loginIsRequired
	case userIsLoggedIn

	// Onboarding
	case onboardingIsRequired
	case onboardingIsComplete

	// Home
	case dashboardIsRequired

	// Movies
	case moviesAreRequired
	case movieIsPicked(withID: Int)
	case castIsPicked(withID: Int)

	// Settings
	case settingsAreRequired
	case settingsAreComplete
}
```

## Flow ì •ì˜

`Flow` ì •ì˜ëŠ” ë‘ ê°€ì§€ë¥¼ í•„ìˆ˜ì ìœ¼ë¡œ í•´ì¤˜ì•¼í•©ë‹ˆë‹¤.

1. ë„¤ë¹„ê²Œì´ì…˜ì˜ ê·¼ê°„ì´ ë˜ëŠ” root `Presentable`ì„ ì„ ì–¸í•´ì¤ë‹ˆë‹¤.
2. `navigate(to:)` ë©”ì„œë“œë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì„œ `Step`ì„ ë„¤ë¹„ê²Œì´ì…˜ ì•¡ì…˜ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

`navigate(to:)` ë©”ì„œë“œëŠ” `FlowContributors`ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.

`.one(flowContributor: .contribute(withNextPresentable: viewController, withNextStepper: viewController.viewModel))`
ì˜ í˜•íƒœë¡œ ë¦¬í„´ì„ í•˜ë©´ ë˜ëŠ”ë°ìš”.. ê° íŒŒë¼ë¯¸í„°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- `viewController`: ëª¨ë‘ê°€ ì•„ëŠ”ë°”ì™€ ê°™ì´ `Presentable`ì´ê³ , LifeCycleì— ë”°ë¼ ì—°ê²°ëœ `Stepper`(`ViewModel`)ê°€ `Step`ì„ emití•˜ëŠ” ê²ƒì— ì˜í–¥ì„ ì¤ë‹ˆë‹¤.
  - ì˜ˆë¥¼ ë“¤ì–´ `Presentable`ì´ hidden(presentë˜ì§€ ì•Šì€ ìƒí™©)ì¼ ê²½ìš°, `Stepper`ê°€ `Step`ì„ emití•œë‹¤ê³  í•´ë„ í•´ë‹¹ emitì€ íš¨ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.
- `viewModel`: `Stepper`ë¡œì„œ ì—°ê²°ëœ `Presentable`ì˜ LifeCycleì— ì˜í–¥ì„ ë°›ìœ¼ë©°, `Step`ì„ emití•¨ìœ¼ë¡œì„œ `Flow`ì•ˆì—ì„œ ë„¤ë¹„ê²Œì´ì…˜ì— ê¸°ì—¬í•©ë‹ˆë‹¤.

ë¶€ê°€ì ìœ¼ë¡œ `Flow`ëŠ” View Controllerë¥¼ instantiate í•´ì¤„ ë•Œ ì´ë£¨ì–´ì§€ëŠ” ì˜ì¡´ì„± ì£¼ì…ì— ì´ìš©ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```swift
class WatchedFlow: Flow {
	var root: Presentable {
		return self.rootViewController
	}

	private let rootViewController = UINavigationController()
	private let services: AppServices

	init(withServices services: AppServices) {
		self.services = services
	}

	func navigate(to step: Step) -> FlowContributors {
		guard let step = step as? DemoStep else { return .none }

		switch step {
		case .moviesAreRequired:
			return self.navigateToMovieListScreen()
		case .movieIsPicked(let movieID):
			return self.navigateToMovieDetailScreen(with: movieID)
		case .castIsPicked(let castID):
			return self.navigateToCastDetailScreen(with: castID)
		default:
			return .none
		}
	}
}

private extension WatchedFlow {

	func navigateToMovieListScreen() -> FlowContributors {
		let viewController = WatchedViewController.instantiate(withViewModel: WatchedViewModel(), andServices: self.services)
		viewController.title = "Watched"

		self.rootViewController.pushViewController(viewController, animated: true)
		return .one(flowContributor: .contribute(withNextPresentable: viewController, withNextStepper: viewController.viewModel))
	}

	func navigateToMovieDetailScreen(with movieID: Int) -> FlowContributors {
		// ...
	}

	func navigateToCastDetailScreen(with castID: Int) -> FlowContributors {
		// ...
	}
}
```

## Stepper ì •ì˜

`Stepper`ëŠ” `protocol`ì´ê¸° ë•Œë¬¸ì— ì–´ë–¤ ê²ƒì´ë“  ë  ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤. ViewControllerê°€ ë  ìˆ˜ë„ ìˆê³ , ViewModelì´ ë  ìˆ˜ë„ ìˆì£ .

í•˜ì§€ë§Œ ViewModel ê°™ì´ ë¡œì§ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ê³³ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì ì ˆí•©ë‹ˆë‹¤.

RxFlowëŠ” `OneStepper`ë¼ëŠ” `Stepper` í´ë˜ìŠ¤ë¥¼ ê¸°ë³¸ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ìƒê²¼ëŠ”ë°ìš”..

```swift
public class OneStepper: Stepper {
	public let steps = PublishRelay<Step>()
	private let singleStep: Step

	public init(withSingleStep singleStep: Step) {
		self.singleStep = singleStep
	}

	public var initialStep: Step {
		return self.singleStep
	}
}
```

ì´ `OneStepper`ëŠ” ì´ˆê¸°í™”ì™€ ë™ì‹œì— ì˜¤ì§ í•˜ë‚˜ì˜ `Step`ì„ emití•˜ëŠ” ê²ƒì„ ìœ ì¼í•œ ë¡œì§ìœ¼ë¡œ ê°–ëŠ” `Stepper`ì…ë‹ˆë‹¤.

ìƒˆë¡œìš´ `Flow`ë¥¼ ìƒì„±í•˜ê³  ì²« `Step`ì„ ì‹¤í–‰í•  ë•Œ ìœ ìš©í•˜ë‹¤ê³  í•©ë‹ˆë‹¤.

ì•„ë˜ `Stepper`ëŠ” `pick(movieID:)` ë©”ì„œë“œê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ `DemoStep.movieIsPicked(withID)`ë¥¼ emití•©ë‹ˆë‹¤.

í•´ë‹¹ `Step`ì´ emitë˜ë©´, ìœ„ì˜ `WatchedFlow`ì—ì„œ `navigate(to step:)` ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ê³ , ê²°ê³¼ì ìœ¼ë¡œ `navigateToMovieDetailScreen(withmovieID: Int)` ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ê²Œ ë©ë‹ˆë‹¤.

```swift
class WatchedViewModel: Stepper {
	let movies: [MovieViewModel]
	let steps = PublishRelay<Step>()

	init(with service: MovieService) {
		self.movies = service.watchedMovies().map({ movie -> MovieViewModel in
			return MovieViewModel(id: movie.id, title: movie.title, image: movie.image)
		})
	}

	// ì˜í™”ê°€ pick ëì„ ë•Œ ìƒˆë¡œìš´ Stepì„ emití•©ë‹ˆë‹¤.
	// ì´ emitì€ WatchedFlowì—ì„œ ë„¤ë¹„ê²Œì´ì…˜ ì•¡ì…˜ì„ ì´‰ë°œí•©ë‹ˆë‹¤.
	public func pick(movieID: Int) {
		self.steps.accept(DemoStep.movieIsPicked(withID: movieID))
	}
}
```